## Инструменты для разработки

Для запуска примеров из этой главы нужны интерпретатор Bash и эмулятор терминала. Они устанавливаются на все современные ОС. Рассмотрим, как это сделать.

### Интерпретатор Bash

Bash — это [**скриптовый язык программирования**](https://ru.wikipedia.org/wiki/Сценарный_язык). Такие языки:

1. Интерпретируются, а не компилируются.

2. Оперируют готовыми программами или высокоуровневыми командами.

3. Интегрированы в командную оболочку или ОС.

Язык Bash интегрирован в Linux и macOS. Если вы используете Windows, установите минимальное Unix-окружение. Оно нужно Bash для корректной работы. Рассмотрим два способа установки окружения.

I> Термины "Unix-окружение" и "Linux-окружение" означают программную среду, совместимую со стандартами POSIX.

Первый вариант — установить набор инструментов [**MinGW**](https://ru.wikipedia.org/wiki/MinGW#Компоненты_MinGW). Помимо интерпретатора Bash он предоставляет [свободный набор компиляторов GCC](https://ru.wikipedia.org/wiki/GNU_Compiler_Collection). Для примеров этой книги будет достаточно компонента MinGW под названием MSYS (Minimal SYStem). Этот компонент включает: интерпретатор Bash, эмулятор терминала и [утилиты командной строки GNU](https://ru.wikipedia.org/wiki/GNU_Coreutils). Вместе они составляют минимальное Unix-окружение.

Установим версию Unix-окружения под названием [MSYS2](https://www.msys2.org). Перед её установкой уточните разрядность вашей ОС Windows. Для этого выполните следующее:

1. Если на вашем рабочем столе есть иконка "Компьютер", нажмите на неё правой кнопкой мыши и выберите пункт "Свойства".

2. Если на рабочем столе нет иконки "Компьютер", нажмите кнопку "Пуск". Найдите в открывшемся меню пункт "Компьютер". Нажмите на него правой кнопкой мыши и выберите "Свойства".

3. В открывшемся окне "Система" найдите пункт "Тип системы" как на иллюстрации 2-1. В этом окне написана разрядность вашей Windows.

{caption: "Иллюстрация 2-1. Тип системы"}
![Тип системы](images/BashShell/windows-system-type.png)

Скачайте установщик MSYS2 с [официального сайта](https://www.msys2.org). Файл установщика зависит от разрядности вашей системы:

* `msys2-i686-20190524.exe` для 32-разрядной Windows.

* `msys2-x86_64-20190524.exe` для 64-разрядной Windows.

Число `20190524` в имени файла означает версию MSYS2. Выберите последнюю доступную версию.

Теперь установим MSYS2. Для этого сделайте следующее:

1. Запустите установщик. Откроется окно, как на иллюстрации 2-2.

{caption: "Иллюстрация 2-2. Диалог установки MSYS2", height: "30%"}
![Диалог установки](images/BashShell/msys2-install.png)

2. Нажмите кнопку "Next" (далее). В новом окне (см. иллюстрацию 2-3) выберите [**путь**](https://ru.wikipedia.org/wiki/Путь_к_файлу) установки и нажмите кнопку "Next".

{caption: "Иллюстрация 2-3. Выбор пути установки", height: "30%"}
![Процесс установки](images/BashShell/msys2-path.png)

3. Следующее окно предлагает выбрать имя приложения для меню "Пуск". Оставьте его без изменений и нажмите "Next". После этого начнётся процесс установки.

4. После завершения установки нажмите кнопку "Finish" (завершить). Окно закроется.

Unix-окружение MSYS2 установлено на ваш жёсткий диск. Его файлы находятся в каталоге `C:\msys64`, если вы оставили путь установки по умолчанию. Перейдите в этот каталог и запустите приложение `msys2.exe`. Откроется окно интерпретатора командной строки Bash как на иллюстрации 2-4.

{caption: "Иллюстрация 2-4. Окно интерпретатора командной строки Bash", height: "20%"}
![Окно Bash](images/BashShell/bash-window.png)

Второй вариант — установить Unix-окружение от Microsoft под названием [Windows-подсистема для Linux](https://ru.wikipedia.org/wiki/Windows_Subsystem_for_Linux) (Windows subsystem for Linux или WSL). Это окружение доступно только для Windows 10. Оно не заработает на Windows 8 и 7. Инструкция установки WSL доступна на [сайте Microsoft](https://docs.microsoft.com/ru-ru/windows/wsl/install-win10).

Пользователям Linux и macOS устанавливать Bash не надо. Он доступен в этих системах по умолчанию.

Чтобы открыть окно интерпретатора Bash в Linux, нажмите комбинацию клавиш Ctrl+Alt+T.

Для запуска Bash в macOS сделайте следующее:

1. Запустите программу поиска Spotlight. Для этого нажмите на иконку лупы в правом верхнем углу экрана.

2. Появится диалог. Введите в нём текст "Terminal".

3. В открывшемся списке приложений щёлкните мышью на первой строчке с именем "Terminal".

### Эмулятор терминала

После запуска приложения `msys2.exe` откроется окно эмулятора терминала. [**Эмулятор**](https://ru.wikipedia.org/wiki/Эмуляция) — это программа, которая имитирует поведение другой программы, ОС или устройства. Эмуляторы нужны для совместимости. Например, вы хотите запустить Windows-программу на Linux. Для этого установите на Linux эмулятор Windows-окружения под названием [Wine](https://ru.wikipedia.org/wiki/Wine). Wine предоставляет свою версию системных библиотек Windows. Благодаря эмулятору, Windows-программа запустится на Linux.

Эмулятор терминала также решает задачу совместимости. Приложения с интерфейсом командной строки предназначены для работы через устройство терминал. Сегодня это устройство нигде не используется. Его вытеснили персональные компьютеры и ноутбуки. Чтобы запустить программу, работающую только через терминал, вам нужен эмулятор терминала. Благодаря эмулятору, программа сможет передавать команды в командную оболочку и выводить на экран результат их исполнения.

Иллюстрация 2-5 демонстрирует взаимодействие устройств ввода-вывода, эмулятора терминала, оболочки и программы.

{caption: "Иллюстрация 2-5. Роль эмулятора терминала", height: "25%"}
![Эмулятора Терминала](images/BashShell/terminal-emulator.png)

В окне терминала сразу после запуска выводятся две строчки (см. иллюстрацию 2-4):
{line-numbers: false}
```
ilya.shpigor@DESKTOP-1NBVQM4 MSYS ~
$
```

Первая строка начинается с имени пользователя. В моём случае это `ilya.shpigor`. Далее через символ `@` следует имя компьютера: `DESKTOP-1NBVQM4`. Его можно изменить в настройках Windows. Затем через пробел идёт слово `MSYS`. Это название платформы, на которой запущен Bash. В конце строки стоит символ `~`. Это **абсолютный путь** до текущего каталога. Остановимся на этом пункте подробнее.

Есть два типа путей до объектов файловой системы: абсолютные и относительные. Пути первого типа выводит Проводник Windows в адресной строке. Абсолютным называется путь к одному и тому же объекту файловой системы вне зависимости от текущего каталога. **Относительный путь** напротив указывается по отношению к текущему каталогу.

Относительные пути короче абсолютных. Поэтому их быстрее набирать и удобнее применять в командных интерпретаторах. Чтобы отличить тип пути в Unix-окружении, есть простое правило. Абсолютные пути начинаются с символа слеш /. Например, `/c/Windows/system32`. Относительные пути начинаются с имени каталога. Например, `Windows/system32`.